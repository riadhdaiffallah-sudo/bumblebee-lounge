<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Bumblebee ‚Äî Mon Panier</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300;1,400&family=Montserrat:wght@200;300;400;500&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="css/theme.css"/>
<style>
#bb-transition{position:fixed;inset:0;z-index:99999;background:#050505;pointer-events:none;opacity:1;transition:opacity .4s ease;display:flex;align-items:center;justify-content:center}
#bb-transition-logo{font-family:'Cormorant Garamond',serif;font-size:2rem;font-weight:300;letter-spacing:.4em;color:#c9a84c;opacity:1;transition:opacity .3s ease}

.cart-layout{display:grid;grid-template-columns:1fr 360px;gap:48px;max-width:1200px;margin:0 auto;padding:80px var(--px) 120px;align-items:start}
@media(max-width:960px){.cart-layout{grid-template-columns:1fr}}

/* CART ITEMS */
.cart-items{display:flex;flex-direction:column;gap:2px}
.cart-item{display:flex;align-items:center;gap:16px;padding:18px 20px;border:1px solid var(--border);background:rgba(255,255,255,.015);transition:all .3s}
.cart-item:hover{border-color:rgba(201,168,76,.2)}
.cart-item-name{flex:1}
.ci-name{font-size:.72rem;letter-spacing:.07em;color:var(--white);margin-bottom:3px}
.ci-unit{font-size:.54rem;color:var(--gray);letter-spacing:.1em}
.ci-subtotal{font-family:'Cormorant Garamond',serif;font-size:1.2rem;color:var(--gold);white-space:nowrap;margin:0 12px}
.ci-da{font-size:.5rem;color:var(--gray);letter-spacing:.15em;text-transform:uppercase;margin-left:3px}
.qty-controls{display:flex;align-items:center;border:1px solid var(--border)}
.qty-btn{width:34px;height:34px;background:none;border:none;color:var(--gold);font-size:1.1rem;display:flex;align-items:center;justify-content:center;transition:all .3s;font-family:'Montserrat',sans-serif}
.qty-btn:hover{background:rgba(201,168,76,.1)}
.qty-num{width:34px;height:34px;display:flex;align-items:center;justify-content:center;font-size:.68rem;color:var(--white);border-left:1px solid var(--border);border-right:1px solid var(--border)}
.remove-btn{background:none;border:none;color:var(--gray);font-size:.9rem;padding:6px;transition:color .3s;margin-left:4px}
.remove-btn:hover{color:#e05252}

.empty-cart{text-align:center;padding:80px 20px}
.empty-icon{font-size:3rem;margin-bottom:20px;opacity:.4}
.empty-title{font-family:'Cormorant Garamond',serif;font-size:2rem;font-weight:300;color:var(--gray);margin-bottom:12px}
.empty-desc{font-size:.62rem;color:var(--gray);letter-spacing:.1em;margin-bottom:32px;line-height:1.8}

.clear-btn{background:none;border:1px solid rgba(229,57,53,.25);color:#e05252;font-family:'Montserrat',sans-serif;font-size:.52rem;letter-spacing:.25em;text-transform:uppercase;padding:9px 20px;transition:all .3s;margin-top:20px}
.clear-btn:hover{background:rgba(229,57,53,.08)}

/* SUMMARY */
.summary-card{background:rgba(201,168,76,.04);border:1px solid var(--border);padding:32px 28px;position:sticky;top:100px}
@media(max-width:960px){.summary-card{position:static}}
.summary-title{font-family:'Cormorant Garamond',serif;font-size:1.4rem;font-weight:300;color:var(--gold);margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid var(--border)}
.summary-lines{margin-bottom:16px}
.summary-line{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.05);font-size:.6rem;letter-spacing:.06em}
.summary-line .lbl{color:var(--gray)}
.summary-line .val{color:var(--white)}
.summary-total{display:flex;justify-content:space-between;align-items:baseline;padding:16px 0;border-top:1px solid rgba(201,168,76,.2);margin-top:8px}
.summary-total .lbl{font-size:.56rem;letter-spacing:.32em;text-transform:uppercase;color:var(--gray)}
.summary-total .val{font-family:'Cormorant Garamond',serif;font-size:2rem;color:var(--gold);font-weight:300}
.summary-total .da{font-size:.6rem;color:var(--gray);letter-spacing:.2em;text-transform:uppercase;margin-left:4px}

.checkout-btn{width:100%;padding:17px;background:var(--gold);border:none;color:var(--black);font-family:'Montserrat',sans-serif;font-size:.62rem;font-weight:500;letter-spacing:.35em;text-transform:uppercase;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:10px;margin-top:20px;text-decoration:none}
.checkout-btn:hover{background:var(--gold-light)}
.continue-btn{width:100%;padding:14px;background:transparent;border:1px solid rgba(201,168,76,.3);color:var(--white);font-family:'Montserrat',sans-serif;font-size:.58rem;letter-spacing:.3em;text-transform:uppercase;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:10px;margin-top:10px;text-decoration:none}
.continue-btn:hover{border-color:var(--gold);color:var(--gold)}
.cash-note{display:flex;align-items:center;gap:10px;padding:12px 16px;background:rgba(201,168,76,.04);border:1px solid rgba(201,168,76,.12);margin-top:14px;font-size:.54rem;color:var(--gray);letter-spacing:.08em;line-height:1.6}
.cash-note span{color:var(--gold)}
</style>
</head>
<body>
<div id="bb-transition"><div id="bb-transition-logo">Bumble<em style="font-style:italic;color:#c9a84c">bee</em></div></div>
<div class="cursor" id="cursor"></div>
<div class="cursor-ring" id="cursorRing"></div>

<div class="mobile-drawer" id="mobileDrawer">
  <a href="home.html">Accueil</a>
  <a href="menu.html">Menu</a>
  <a href="hookah.html">Chicha</a>
  <a href="reservation.html">R√©servation</a>
  <a href="contact.html">Contact</a>
  <a href="order.html" class="drawer-cta">Commander</a>
  <div class="drawer-langs">
    <button data-lang="fr">FR</button>
    <button data-lang="en">EN</button>
    <button data-lang="ar">AR</button>
  </div>
</div>

<nav class="navbar solid" id="navbar">
  <a href="home.html" class="nav-logo">Bumble<span>bee</span></a>
  <ul class="nav-links">
    <li><a href="home.html">Accueil</a></li>
    <li><a href="menu.html">Menu</a></li>
    <li><a href="hookah.html">Chicha</a></li>
    <li><a href="reservation.html">R√©servation</a></li>
    <li><a href="contact.html">Contact</a></li>
  </ul>
  <div class="nav-right">
    <div class="lang-nav">
      <button data-lang="fr">FR</button>
      <button data-lang="en">EN</button>
      <button data-lang="ar">AR</button>
    </div>
    <a href="order.html" class="nav-cta">Commander</a>
  </div>
  <button class="nav-hamburger" id="hamburger"><span></span><span></span><span></span></button>
</nav>

<div class="page-header">
  <span class="page-label" id="pg-label">Bumblebee Lounge</span>
  <h1 class="page-title" id="pg-title">Mon <em>panier.</em></h1>
  <p class="page-desc" id="pg-desc">V√©rifiez votre commande avant de confirmer.</p>
</div>

<div class="cart-layout">
  <!-- ITEMS -->
  <div>
    <div id="cart-container"></div>
  </div>

  <!-- SUMMARY -->
  <div>
    <div class="summary-card reveal">
      <div class="summary-title" id="sum-title">üßæ R√©capitulatif</div>
      <div class="summary-lines" id="summary-lines"></div>
      <div class="summary-total">
        <span class="lbl" id="sum-lbl">Total</span>
        <span><span class="val" id="sum-total">0</span><span class="da">DA</span></span>
      </div>
      <a href="order.html" class="checkout-btn" id="checkout-btn">
        <span id="checkout-txt">Confirmer la commande</span> ‚Üí
      </a>
      <a href="menu.html" class="continue-btn" id="continue-btn">
        ‚Üê <span id="continue-txt">Continuer mes achats</span>
      </a>
      <div class="cash-note">
        <span>üíµ</span>
        <span id="cash-txt">Paiement cash uniquement ¬∑ Sur place</span>
      </div>
    </div>
  </div>
</div>

<footer class="footer">
  <div class="footer-logo">Bumble<span>bee</span></div>
  <div class="footer-copy">¬© 2025 Bumblebee Lounge ¬∑ Djelfa, Alg√©rie</div>
  <div class="footer-links">
    <a href="https://wa.me/213778097833" target="_blank">WhatsApp</a>
    <a href="contact.html">Contact</a>
  </div>
</footer>

<script>
// TRANSITION
window.addEventListener('load',()=>{const o=document.getElementById('bb-transition'),l=document.getElementById('bb-transition-logo');setTimeout(()=>{o.style.opacity='0';l.style.opacity='0';setTimeout(()=>o.style.pointerEvents='none',400);},150);});
function goTo(href){const o=document.getElementById('bb-transition'),l=document.getElementById('bb-transition-logo');o.style.pointerEvents='all';o.style.opacity='1';l.style.opacity='1';setTimeout(()=>window.location.href=href,500);}
document.addEventListener('click',e=>{const link=e.target.closest('a');if(!link)return;const href=link.getAttribute('href');if(!href||href.startsWith('#')||href.startsWith('http')||href.startsWith('tel')||link.target==='_blank')return;e.preventDefault();goTo(href);});

// CURSOR
const cur=document.getElementById('cursor'),ring=document.getElementById('cursorRing');
if(cur)document.addEventListener('mousemove',e=>{cur.style.left=e.clientX+'px';cur.style.top=e.clientY+'px';setTimeout(()=>{ring.style.left=e.clientX+'px';ring.style.top=e.clientY+'px';},80);});

// HAMBURGER
const ham=document.getElementById('hamburger'),drawer=document.getElementById('mobileDrawer');
ham.addEventListener('click',()=>{ham.classList.toggle('open');drawer.classList.toggle('open');document.body.style.overflow=drawer.classList.contains('open')?'hidden':'';});
drawer.querySelectorAll('a').forEach(a=>a.addEventListener('click',()=>{ham.classList.remove('open');drawer.classList.remove('open');document.body.style.overflow='';}));

// REVEAL
const obs=new IntersectionObserver(e=>e.forEach(x=>{if(x.isIntersecting)x.target.classList.add('visible')}),{threshold:.08});
document.querySelectorAll('.reveal').forEach(el=>obs.observe(el));

// CART
function getCart(){try{return JSON.parse(localStorage.getItem('bb_cart'))||[];}catch{return[];}}
function saveCart(c){localStorage.setItem('bb_cart',JSON.stringify(c));}

function changeQty(id, delta){
  let cart=getCart();
  const item=cart.find(i=>i.id===id);
  if(!item) return;
  item.qty+=delta;
  if(item.qty<=0) cart=cart.filter(i=>i.id!==id);
  saveCart(cart);
  renderCart();
}

function removeItem(id){
  let cart=getCart().filter(i=>i.id!==id);
  saveCart(cart);
  renderCart();
}

function clearCart(){
  localStorage.removeItem('bb_cart');
  renderCart();
}

function renderCart(){
  const cart=getCart();
  const container=document.getElementById('cart-container');
  const summaryLines=document.getElementById('summary-lines');
  const totalEl=document.getElementById('sum-total');

  if(cart.length===0){
    container.innerHTML=`
      <div class="empty-cart">
        <div class="empty-icon">üõí</div>
        <div class="empty-title" id="empty-title">Panier vide</div>
        <div class="empty-desc" id="empty-desc">Vous n'avez encore rien ajout√©.<br>D√©couvrez notre menu !</div>
        <a href="menu.html" class="btn-gold" id="go-menu">Voir le menu ‚Üí</a>
      </div>`;
    summaryLines.innerHTML='';
    totalEl.textContent='0';
    return;
  }

  const total=cart.reduce((s,i)=>s+i.price*i.qty,0);
  totalEl.textContent=total;

  container.innerHTML=`
    <div class="cart-items">
      ${cart.map(i=>`
        <div class="cart-item">
          <div class="cart-item-name">
            <div class="ci-name">${i.name}</div>
            <div class="ci-unit">${i.price} DA / unit√©</div>
          </div>
          <div class="qty-controls">
            <button class="qty-btn" onclick="changeQty('${i.id}',-1)">‚àí</button>
            <div class="qty-num">${i.qty}</div>
            <button class="qty-btn" onclick="changeQty('${i.id}',1)">+</button>
          </div>
          <span class="ci-subtotal">${i.price*i.qty}<span class="ci-da">DA</span></span>
          <button class="remove-btn" onclick="removeItem('${i.id}')" title="Supprimer">‚úï</button>
        </div>`).join('')}
    </div>
    <button class="clear-btn" onclick="clearCart()" id="clear-btn">üóë Vider le panier</button>`;

  summaryLines.innerHTML=cart.map(i=>`
    <div class="summary-line">
      <span class="lbl">${i.name} √ó${i.qty}</span>
      <span class="val">${i.price*i.qty} DA</span>
    </div>`).join('');

  // Apply language to new elements
  const saved=localStorage.getItem('bb_lang');
  if(saved&&T[saved]) applyLang(saved);
}

// LANGUAGE
const T={
  fr:{'pg-label':'Bumblebee Lounge','pg-title':'Mon <em>panier.</em>','pg-desc':'V√©rifiez votre commande avant de confirmer.','sum-title':'üßæ R√©capitulatif','sum-lbl':'Total','checkout-txt':'Confirmer la commande','continue-txt':'Continuer mes achats','cash-txt':'Paiement cash uniquement ¬∑ Sur place'},
  en:{'pg-label':'Bumblebee Lounge','pg-title':'My <em>cart.</em>','pg-desc':'Review your order before confirming.','sum-title':'üßæ Summary','sum-lbl':'Total','checkout-txt':'Confirm order','continue-txt':'Continue shopping','cash-txt':'Cash payment only ¬∑ On site'},
  ar:{'pg-label':'ÿ®ÿßŸÖÿ®ŸÑÿ®Ÿä ŸÑÿßŸàŸÜÿ¨','pg-title':'ÿ≥ŸÑÿ™Ÿä <em>ÿßŸÑÿÆÿßÿµÿ©.</em>','pg-desc':'ÿ±ÿßÿ¨ÿπ ÿ∑ŸÑÿ®ŸÉ ŸÇÿ®ŸÑ ÿßŸÑÿ™ÿ£ŸÉŸäÿØ.','sum-title':'üßæ ÿßŸÑŸÖŸÑÿÆÿµ','sum-lbl':'ÿßŸÑŸÖÿ¨ŸÖŸàÿπ','checkout-txt':'ÿ™ÿ£ŸÉŸäÿØ ÿßŸÑÿ∑ŸÑÿ®','continue-txt':'ŸÖŸàÿßÿµŸÑÿ© ÿßŸÑÿ™ÿ≥ŸàŸÇ','cash-txt':'ÿßŸÑÿØŸÅÿπ ŸÜŸÇÿØÿßŸã ŸÅŸÇÿ∑ ¬∑ ŸÅŸä ÿßŸÑŸÖŸÉÿßŸÜ'}
};
function applyLang(l){
  document.body.style.direction=l==='ar'?'rtl':'ltr';
  document.querySelectorAll('[data-lang]').forEach(b=>b.classList.toggle('active',b.dataset.lang===l));
  const t=T[l]||T.fr;
  for(const[id,v]of Object.entries(t)){const el=document.getElementById(id);if(el)el.innerHTML=v;}
}
function setLang(l){localStorage.setItem('bb_lang',l);applyLang(l);}
const saved=localStorage.getItem('bb_lang');
if(saved&&T[saved])applyLang(saved);
document.querySelectorAll('[data-lang]').forEach(btn=>btn.addEventListener('click',()=>setLang(btn.dataset.lang)));

// INIT
renderCart();
</script>
</body>
</html>